// Pre-compiled ERC-20 contract artifacts
// Source: DeployableToken.sol (ERC20 + Burnable + Pausable + Ownable)
// Compiled: solc 0.8.31, optimization 200 runs, via Remix
// OpenZeppelin Contracts v5.0.0

export interface ContractTemplate {
  name: string;
  abi: readonly Record<string, unknown>[];
  bytecode: string;
  constructorParams: Array<{
    name: string;
    type: string;
    description: string;
  }>;
  features: string[];
  solidityVersion: string;
}

export interface ContractTemplates {
  [key: string]: {
    [variant: string]: ContractTemplate;
  };
}

const DEPLOYABLE_TOKEN_ABI = [
  {"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"},{"internalType":"uint256","name":"initialSupply_","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},
  {"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"allowance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"name":"ERC20InsufficientAllowance","type":"error"},
  {"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"name":"ERC20InsufficientBalance","type":"error"},
  {"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC20InvalidApprover","type":"error"},
  {"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC20InvalidReceiver","type":"error"},
  {"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC20InvalidSender","type":"error"},
  {"inputs":[{"internalType":"address","name":"spender","type":"address"}],"name":"ERC20InvalidSpender","type":"error"},
  {"inputs":[],"name":"EnforcedPause","type":"error"},
  {"inputs":[],"name":"ExpectedPause","type":"error"},
  {"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},
  {"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},
  {"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},
  {"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},
  {"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},
  {"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},
  {"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},
  {"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
  {"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},
  {"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
  {"inputs":[{"internalType":"uint256","name":"value","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},
  {"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"burnFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},
  {"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},
  {"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},
  {"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},
  {"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},
  {"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},
  {"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},
  {"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},
  {"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},
  {"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
  {"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},
  {"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},
  {"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},
  {"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"},
] as const;

const DEPLOYABLE_TOKEN_BYTECODE = "0x608060405234801561000f575f5ffd5b50604051612144380380612144833981810160405281019061003191906106ac565b3383838160039081610043919061093b565b508060049081610053919061093b565b5050505f60055f6101000a81548160ff0219169083151502179055505f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036100df575f6040517f1e4fbdf70000000000000000000000000000000000000000000000000000000081526004016100d69190610a49565b60405180910390fd5b6100ee8161012b60201b60201c565b50610123336101016101f060201b60201c565b600a61010d9190610bca565b836101189190610c14565b6101f860201b60201c565b505050610ce5565b5f600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b5f6012905090565b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610268575f6040517fec442f0500000000000000000000000000000000000000000000000000000000815260040161025f9190610a49565b60405180910390fd5b6102795f838361027d60201b60201c565b5050565b61028e83838361029360201b60201c565b505050565b6102a16102b760201b60201c565b6102b28383836102fe60201b60201c565b505050565b6102c561051760201b60201c565b156102fc576040517fd93c066500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b565b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff160361034e578060025f8282546103429190610c55565b9250508190555061041c565b5f5f5f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20549050818110156103d7578381836040517fe450d38c0000000000000000000000000000000000000000000000000000000081526004016103ce93929190610c97565b60405180910390fd5b8181035f5f8673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2081905550505b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610463578060025f82825403925050819055506104ad565b805f5f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f82825401925050819055505b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8360405161050a9190610ccc565b60405180910390a3505050565b5f60055f9054906101000a900460ff16905090565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61058b82610545565b810181811067ffffffffffffffff821117156105aa576105a9610555565b5b80604052505050565b5f6105bc61052c565b90506105c88282610582565b919050565b5f67ffffffffffffffff8211156105e7576105e6610555565b5b6105f082610545565b9050602081019050919050565b8281835e5f83830152505050565b5f61061d610618846105cd565b6105b3565b90508281526020810184848401111561063957610638610541565b5b6106448482856105fd565b509392505050565b5f82601f8301126106605761065f61053d565b5b815161067084826020860161060b565b91505092915050565b5f819050919050565b61068b81610679565b8114610695575f5ffd5b50565b5f815190506106a681610682565b92915050565b5f5f5f606084860312156106c3576106c2610535565b5b5f84015167ffffffffffffffff8111156106e0576106df610539565b5b6106ec8682870161064c565b935050602084015167ffffffffffffffff81111561070d5761070c610539565b5b6107198682870161064c565b925050604061072a86828701610698565b9150509250925092565b5f81519050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061078257607f821691505b6020821081036107955761079461073e565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f600883026107f77fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826107bc565b61080186836107bc565b95508019841693508086168417925050509392505050565b5f819050919050565b5f61083c61083761083284610679565b610819565b610679565b9050919050565b5f819050919050565b61085583610822565b61086961086182610843565b8484546107c8565b825550505050565b5f5f905090565b610880610871565b61088b81848461084c565b505050565b5b818110156108ae576108a35f82610878565b600181019050610891565b5050565b601f8211156108f3576108c48161079b565b6108cd846107ad565b810160208510156108dc578190505b6108f06108e8856107ad565b830182610890565b50505b505050565b5f82821c905092915050565b5f6109135f19846008026108f8565b1980831691505092915050565b5f61092b8383610904565b9150826002028217905092915050565b61094482610734565b67ffffffffffffffff81111561095d5761095c610555565b5b610967825461076b565b6109728282856108b2565b5f60209050601f8311600181146109a3575f8415610991578287015190505b61099b8582610920565b865550610a02565b601f1984166109b18661079b565b5f5b828110156109d8578489015182556001820191506020850194506020810190506109b3565b868310156109f557848901516109f1601f891682610904565b8355505b6001600288020188555050505b505050505050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f610a3382610a0a565b9050919050565b610a4381610a29565b82525050565b5f602082019050610a5c5f830184610a3a565b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f8160011c9050919050565b5f5f8291508390505b6001851115610ae457808604811115610ac057610abf610a62565b5b6001851615610acf5780820291505b8081029050610add85610a8f565b9450610aa4565b94509492505050565b5f82610afc5760019050610bb7565b81610b09575f9050610bb7565b8160018114610b1f5760028114610b2957610b58565b6001915050610bb7565b60ff841115610b3b57610b3a610a62565b5b8360020a915084821115610b5257610b51610a62565b5b50610bb7565b5060208310610133831016604e8410600b8410161715610b8d5782820a905083811115610b8857610b87610a62565b5b610bb7565b610b9a8484846001610a9b565b92509050818404811115610bb157610bb0610a62565b5b81810290505b9392505050565b5f60ff82169050919050565b5f610bd482610679565b9150610bdf83610bbe565b9250610c0c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8484610aed565b905092915050565b5f610c1e82610679565b9150610c2983610679565b9250828202610c3781610679565b91508282048414831517610c4e57610c4d610a62565b5b5092915050565b5f610c5f82610679565b9150610c6a83610679565b9250828201905080821115610c8257610c81610a62565b5b92915050565b610c9181610679565b82525050565b5f606082019050610caa5f830186610a3a565b610cb76020830185610c88565b610cc46040830184610c88565b949350505050565b5f602082019050610cdf5f830184610c88565b92915050565b61145280610cf25f395ff3fe608060405234801561000f575f5ffd5b5060043610610114575f3560e01c806370a08231116100a05780638da5cb5b1161006f5780638da5cb5b1461029257806395d89b41146102b0578063a9059cbb146102ce578063dd62ed3e146102fe578063f2fde38b1461032e57610114565b806370a0823114610232578063715018a61461026257806379cc67901461026c5780638456cb591461028857610114565b8063313ce567116100e7578063313ce567146101b45780633f4ba83a146101d257806340c10f19146101dc57806342966c68146101f85780635c975abb1461021457610114565b806306fdde0314610118578063095ea7b31461013657806318160ddd1461016657806323b872dd14610184575b5f5ffd5b61012061034a565b60405161012d91906110a0565b60405180910390f35b610150600480360381019061014b9190611151565b6103da565b60405161015d91906111a9565b60405180910390f35b61016e6103fc565b60405161017b91906111d1565b60405180910390f35b61019e600480360381019061019991906111ea565b610405565b6040516101ab91906111a9565b60405180910390f35b6101bc610433565b6040516101c99190611255565b60405180910390f35b6101da61043b565b005b6101f660048036038101906101f19190611151565b61044d565b005b610212600480360381019061020d919061126e565b610463565b005b61021c610477565b60405161022991906111a9565b60405180910390f35b61024c60048036038101906102479190611299565b61048c565b60405161025991906111d1565b60405180910390f35b61026a6104d1565b005b61028660048036038101906102819190611151565b6104e4565b005b610290610504565b005b61029a610516565b6040516102a791906112d3565b60405180910390f35b6102b861053f565b6040516102c591906110a0565b60405180910390f35b6102e860048036038101906102e39190611151565b6105cf565b6040516102f591906111a9565b60405180910390f35b610318600480360381019061031391906112ec565b6105f1565b60405161032591906111d1565b60405180910390f35b61034860048036038101906103439190611299565b610673565b005b60606003805461035990611357565b80601f016020809104026020016040519081016040528092919081815260200182805461038590611357565b80156103d05780601f106103a7576101008083540402835291602001916103d0565b820191905f5260205f20905b8154815290600101906020018083116103b357829003601f168201915b5050505050905090565b5f5f6103e46106f7565b90506103f18185856106fe565b600191505092915050565b5f600254905090565b5f5f61040f6106f7565b905061041c858285610710565b6104278585856107a2565b60019150509392505050565b5f6012905090565b610443610892565b61044b610919565b565b610455610892565b61045f828261097a565b5050565b61047461046e6106f7565b826109f9565b50565b5f60055f9054906101000a900460ff16905090565b5f5f5f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20549050919050565b6104d9610892565b6104e25f610a78565b565b6104f6826104f06106f7565b83610710565b61050082826109f9565b5050565b61050c610892565b610514610b3d565b565b5f600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60606004805461054e90611357565b80601f016020809104026020016040519081016040528092919081815260200182805461057a90611357565b80156105c55780601f1061059c576101008083540402835291602001916105c5565b820191905f5260205f20905b8154815290600101906020018083116105a857829003601f168201915b5050505050905090565b5f5f6105d96106f7565b90506105e68185856107a2565b600191505092915050565b5f60015f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2054905092915050565b61067b610892565b5f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036106eb575f6040517f1e4fbdf70000000000000000000000000000000000000000000000000000000081526004016106e291906112d3565b60405180910390fd5b6106f481610a78565b50565b5f33905090565b61070b8383836001610b9f565b505050565b5f61071b84846105f1565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff811461079c578181101561078d578281836040517ffb8f41b200000000000000000000000000000000000000000000000000000000815260040161078493929190611387565b60405180910390fd5b61079b84848484035f610b9f565b5b50505050565b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610812575f6040517f96c6fd1e00000000000000000000000000000000000000000000000000000000815260040161080991906112d3565b60405180910390fd5b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610882575f6040517fec442f0500000000000000000000000000000000000000000000000000000000815260040161087991906112d3565b60405180910390fd5b61088d838383610d6e565b505050565b61089a6106f7565b73ffffffffffffffffffffffffffffffffffffffff166108b8610516565b73ffffffffffffffffffffffffffffffffffffffff1614610917576108db6106f7565b6040517f118cdaa700000000000000000000000000000000000000000000000000000000815260040161090e91906112d3565b60405180910390fd5b565b610921610d7e565b5f60055f6101000a81548160ff0219169083151502179055507f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa6109636106f7565b60405161097091906112d3565b60405180910390a1565b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036109ea575f6040517fec442f050000000000000000000000000000000000000000000000000000000081526004016109e191906112d3565b60405180910390fd5b6109f55f8383610d6e565b5050565b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610a69575f6040517f96c6fd1e000000000000000000000000000000000000000000000000000000008152600401610a6091906112d3565b60405180910390fd5b610a74825f83610d6e565b5050565b5f600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b610b45610dbe565b600160055f6101000a81548160ff0219169083151502179055507f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a258610b886106f7565b604051610b9591906112d3565b60405180910390a1565b5f73ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1603610c0f575f6040517fe602df05000000000000000000000000000000000000000000000000000000008152600401610c0691906112d3565b60405180910390fd5b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610c7f575f6040517f94280d62000000000000000000000000000000000000000000000000000000008152600401610c7691906112d3565b60405180910390fd5b8160015f8673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20819055508015610d68578273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92584604051610d5f91906111d1565b60405180910390a35b50505050565b610d79838383610dff565b505050565b610d86610477565b610dbc576040517f8dfc202b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b565b610dc6610477565b15610dfd576040517fd93c066500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b565b610e07610dbe565b610e12838383610e17565b505050565b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610e67578060025f828254610e5b91906113e9565b92505081905550610f35565b5f5f5f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2054905081811015610ef0578381836040517fe450d38c000000000000000000000000000000000000000000000000000000008152600401610ee793929190611387565b60405180910390fd5b8181035f5f8673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2081905550505b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610f7c578060025f8282540392505081905550610fc6565b805f5f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f82825401925050819055505b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8360405161102391906111d1565b60405180910390a3505050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f61107282611030565b61107c818561103a565b935061108c81856020860161104a565b61109581611058565b840191505092915050565b5f6020820190508181035f8301526110b88184611068565b905092915050565b5f5ffd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6110ed826110c4565b9050919050565b6110fd816110e3565b8114611107575f5ffd5b50565b5f81359050611118816110f4565b92915050565b5f819050919050565b6111308161111e565b811461113a575f5ffd5b50565b5f8135905061114b81611127565b92915050565b5f5f60408385031215611167576111666110c0565b5b5f6111748582860161110a565b92505060206111858582860161113d565b9150509250929050565b5f8115159050919050565b6111a38161118f565b82525050565b5f6020820190506111bc5f83018461119a565b92915050565b6111cb8161111e565b82525050565b5f6020820190506111e45f8301846111c2565b92915050565b5f5f5f60608486031215611201576112006110c0565b5b5f61120e8682870161110a565b935050602061121f8682870161110a565b92505060406112308682870161113d565b9150509250925092565b5f60ff82169050919050565b61124f8161123a565b82525050565b5f6020820190506112685f830184611246565b92915050565b5f60208284031215611283576112826110c0565b5b5f6112908482850161113d565b91505092915050565b5f602082840312156112ae576112ad6110c0565b5b5f6112bb8482850161110a565b91505092915050565b6112cd816110e3565b82525050565b5f6020820190506112e65f8301846112c4565b92915050565b5f5f60408385031215611302576113016110c0565b5b5f61130f8582860161110a565b92505060206113208582860161110a565b9150509250929050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061136e57607f821691505b6020821081036113815761138061132a565b5b50919050565b5f60608201905061139a5f8301866112c4565b6113a760208301856111c2565b6113b460408301846111c2565b949350505050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f6113f38261111e565b91506113fe8361111e565b9250828201905080821115611416576114156113bc565b5b9291505056fea264697066735822122048d5f40b5a4f299d61116b55a3be90a5379efee72dd0484f3f53c5b7412c031e64736f6c634300081f0033";

const ERC20_CONSTRUCTOR_PARAMS = [
  { name: "name_", type: "string", description: "Token name (e.g. Galaxy Token)" },
  { name: "symbol_", type: "string", description: "Token symbol (e.g. GLX)" },
  { name: "initialSupply_", type: "uint256", description: "Initial supply in whole tokens (decimals added automatically)" },
];

// All variants use the same compiled contract since it includes all features
// The features array indicates what's available in each variant
export const CONTRACT_TEMPLATES: ContractTemplates = {
  ERC20: {
    "basic": {
      name: "Basic ERC-20",
      abi: DEPLOYABLE_TOKEN_ABI,
      bytecode: DEPLOYABLE_TOKEN_BYTECODE,
      constructorParams: ERC20_CONSTRUCTOR_PARAMS,
      features: [],
      solidityVersion: "0.8.31",
    },
    "mintable": {
      name: "Mintable ERC-20",
      abi: DEPLOYABLE_TOKEN_ABI,
      bytecode: DEPLOYABLE_TOKEN_BYTECODE,
      constructorParams: ERC20_CONSTRUCTOR_PARAMS,
      features: ["mintable"],
      solidityVersion: "0.8.31",
    },
    "burnable": {
      name: "Burnable ERC-20",
      abi: DEPLOYABLE_TOKEN_ABI,
      bytecode: DEPLOYABLE_TOKEN_BYTECODE,
      constructorParams: ERC20_CONSTRUCTOR_PARAMS,
      features: ["burnable"],
      solidityVersion: "0.8.31",
    },
    "mintable-burnable": {
      name: "Mintable + Burnable ERC-20",
      abi: DEPLOYABLE_TOKEN_ABI,
      bytecode: DEPLOYABLE_TOKEN_BYTECODE,
      constructorParams: ERC20_CONSTRUCTOR_PARAMS,
      features: ["mintable", "burnable"],
      solidityVersion: "0.8.31",
    },
    "burnable-mintable-pausable": {
      name: "Full Featured ERC-20",
      abi: DEPLOYABLE_TOKEN_ABI,
      bytecode: DEPLOYABLE_TOKEN_BYTECODE,
      constructorParams: ERC20_CONSTRUCTOR_PARAMS,
      features: ["mintable", "burnable", "pausable"],
      solidityVersion: "0.8.31",
    },
    "pausable": {
      name: "Pausable ERC-20",
      abi: DEPLOYABLE_TOKEN_ABI,
      bytecode: DEPLOYABLE_TOKEN_BYTECODE,
      constructorParams: ERC20_CONSTRUCTOR_PARAMS,
      features: ["pausable"],
      solidityVersion: "0.8.31",
    },
    "mintable-pausable": {
      name: "Mintable + Pausable ERC-20",
      abi: DEPLOYABLE_TOKEN_ABI,
      bytecode: DEPLOYABLE_TOKEN_BYTECODE,
      constructorParams: ERC20_CONSTRUCTOR_PARAMS,
      features: ["mintable", "pausable"],
      solidityVersion: "0.8.31",
    },
    "burnable-pausable": {
      name: "Burnable + Pausable ERC-20",
      abi: DEPLOYABLE_TOKEN_ABI,
      bytecode: DEPLOYABLE_TOKEN_BYTECODE,
      constructorParams: ERC20_CONSTRUCTOR_PARAMS,
      features: ["burnable", "pausable"],
      solidityVersion: "0.8.31",
    },
  },
};

export function resolveTemplate(
  contractType: string,
  features: string[]
): ContractTemplate | null {
  const typeTemplates =
    CONTRACT_TEMPLATES[contractType as keyof typeof CONTRACT_TEMPLATES];
  if (!typeTemplates) return null;

  // Sort features and try exact match
  const sorted = [...features].sort().join("-");
  if (typeTemplates[sorted]) return typeTemplates[sorted];

  // Fallback: find best match by feature overlap
  let bestMatch: ContractTemplate | null = null;
  let bestScore = -1;

  for (const template of Object.values(typeTemplates)) {
    const score = features.filter((f) => template.features.includes(f)).length;
    if (score > bestScore) {
      bestScore = score;
      bestMatch = template;
    }
  }

  return bestMatch || typeTemplates["basic"] || Object.values(typeTemplates)[0];
}
